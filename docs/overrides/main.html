{% extends "base.html" %}

{% block site_nav %}
  {{ super() }}
  <button id="lang-toggle" class="md-button md-button--primary" style="position: fixed; top: 15px; right: 20px; z-index: 1000;">
    üåê Change Language
  </button>
{% endblock %}

{% block scripts %}
  {{ super() }}
  <script>
    document.addEventListener("DOMContentLoaded", function () {
      const langToggle = document.getElementById("lang-toggle");
      if (!langToggle) return;

      langToggle.addEventListener("click", function () {
        const currentLang = window.location.pathname.includes("/sr/") ? "sr" : "en";
        const newLang = currentLang === "en" ? "sr" : "en";
        window.location.pathname = window.location.pathname.replace(`/${currentLang}/`, `/${newLang}/`);
      });
    });
  </script>
{% endblock %}
